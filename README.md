## Prerequisites:

Unpacked JBOSS 7.3 somewhere on drive. Connection details are in src/test/resources/arquillian.xml

## How to run:
mvn clean test

## Details
Error is reproducible by enabling "Transactional" annotation for MemberDAO.
Fails only for "named" queries (those generated by JPA. In this case 'findByEmail')
AbstractSharedSessionContract.java:828->ExceptionConverterImpl.java:191

It seems that when no named query is found (on first access) then transaction is rolled back (if exists).
This means that if there is no transaction - it will do nothing, but if it is called in transaction context - whole transaction is rolled back and error is returned.

Some workaround in this example would be e.g. make MemberDAO as (value = TxType.NOT_SUPPORTED) i.e. detach it from existing transaction. 